---
layout: episode
title: "28: ä¾†åš Side Project ç³»åˆ—ä¹‹èª°èƒ½æ¯”æˆ‘éµ"
description: weak self podcast
date: 2020-03-08 22:00:00 +0800
categories: 
---
<iframe src="https://www.listennotes.com/embedded/e/77ab24acf3434b3f9de0a3ec3f5a9b97/" width="100%" style="width: 1px; min-width: 100%;" frameborder="0" scrolling="no"></iframe>

é€™é›†ã€Œä¾†åš Side Projectã€ç³»åˆ—ä¾†è¬›è¬›éµç›¤è·Ÿæ–‡å­—è¼¸å…¥çš„ä¸€äº›åŸºæœ¬æ±è¥¿ã€‚Apple çœŸçš„æœ‰å¾ˆå¤šè·Ÿæ–‡å­—è¼¸å…¥é‚„æœ‰éµç›¤çš„ API å‘¢ã€‚

## æ­¡è¿æ”¶è½ã€Œæˆ‘å°±å¼±ï¼ã€

- ã€Œæˆ‘å€‘å¼±ã€å½©è›‹è«‹ä¸Šæˆ‘å€‘çš„ [Twitter](https://twitter.com/weak_self)

## ä¸Šé€±è£œå……

- æ…ç”¨ [SKStoreReviewController](https://developer.apple.com/documentation/storekit/skstorereviewcontroller)

## iOS è»Ÿé«”éµç›¤è¦æ³¨æ„ä»€éº¼ï¼Ÿ

- éµç›¤å‡ºç¾æ™‚ä¸è¦æ“‹ä½ç•«é¢
	- ç³»çµ±æœƒæä¾›å…§å« keyboard frame çš„ notifications
	- ä¸é iOS 13 ä»¥å‰æœ‰ä¸€äº› bugï¼Œå¯ä»¥åƒè€ƒ niw æœ€è¿‘é–‹æºçš„å¥—ä»¶ [KeyboardGuide](https://github.com/niw/KeyboardGuide)
	- ç”¨ Storyboard ä¾†åšçš„è©±ï¼Œå¾ˆå®¹æ˜“å°±åˆ‡æ›é è¦½è£ç½®ä¾†æª¢æŸ¥æœƒä¸æœƒç ´ç‰ˆ
	- æˆ‘æœƒç”¨ scroll view è®“ç•«é¢æ˜¯å¯ä»¥æ²å‹•çš„ï¼Œé€™æ¨£å°±å¯ä»¥ç”¨ [`contentInset`](https://developer.apple.com/documentation/uikit/uiscrollview/1619406-contentinset) è€Œä¸ç”¨å»æ”¹ frame æˆ– constraints
- éµç›¤è¦æ€éº¼æ”¶æ‰ï¼Ÿ
	- `UIScrollView` çš„ [`keyboardDismissMode`](https://developer.apple.com/documentation/uikit/uiscrollview/1619437-keyboarddismissmode) å¯ä»¥è¨­å®šæ˜¯äº’å‹•å¼ï¼ˆå¾€ä¸‹æ‹‰ï¼‰ã€ä¸€æ²å‹•å°±æ”¶éµç›¤ï¼Œé‚„æ˜¯æ²’æœ‰å‹•ä½œ
	- iPhone å¯ç”¨ `UIResponder` çš„ [`inputAccessoryView`](https://developer.apple.com/documentation/uikit/uiresponder/1621119-inputaccessoryview) åŠ ä¸Šæ”¶éµç›¤çš„æŒ‰éˆ•
	- åœ¨ [return key çš„ delegate method](https://developer.apple.com/documentation/uikit/uitextfielddelegate/1619603-textfieldshouldreturn) å‘¼å« resign 
- Return key ç”¨ä»€éº¼æ–‡å­—æ›´ç¬¦åˆè¼¸å…¥çš„ç›®çš„ï¼Ÿ
	- [`returnKeyType`](https://developer.apple.com/documentation/uikit/uitextinputtraits/1624446-returnkeytype) å¯ä»¥è¨­å®š Goã€Googleã€Joinã€Searchã€Continueï¼Œç”šè‡³ Yahoo ç­‰ç­‰
	- åœ¨ return key çš„ delegate method å¯¦ä½œè·³è½‰åˆ°ä¸‹ä¸€å€‹è¼¸å…¥æ¡†
- éµç›¤æ˜¯æ‹¿ä¾†è¼¸å…¥ä»€éº¼çš„ï¼Ÿä¸€èˆ¬æ–‡å­—ã€ç´”æ•¸å­—ã€Emailã€é‚„æ˜¯ Twitterï¼Ÿ[UITextInputTraits](https://developer.apple.com/documentation/uikit/uitextinputtraits) è¦è¨˜å¾—æŒ‡å®š [`keyboardType`](https://developer.apple.com/documentation/uikit/uitextinputtraits/1624457-keyboardtype)
- iOS 10 ä¹‹å¾Œé‚„æœ‰ [`textContentType`](https://developer.apple.com/documentation/uikit/uitextinputtraits/1649656-textcontenttype) å¯ä»¥è¨­å®š
    - ç³»çµ±å¯èƒ½æœƒæ›´æ¸…æ¥šè©²æ€éº¼èª¿æ•´ä¸€äº›éµç›¤çš„è¡Œç‚º
    - æ”¯æ´ Password AutoFill æ™‚ä¹Ÿæœƒç”¨åˆ°
- éµç›¤é¡è‰²ï¼Œåœ¨ iOS 13 æ¯”è¼ƒä¸ç”¨ç…©æƒ±ï¼Œä½†æ˜¯ä»¥å‰è‡ªè£½æ·±è‰²æ¨¡å¼æ™‚ï¼Œ [`keyboardAppearance`](https://developer.apple.com/documentation/uikit/uitextinputtraits/1624434-keyboardappearance) è¦è‡ªè¡ŒæŒ‡å®š
- è¼¸å…¥å¯†ç¢¼çš„è©±ï¼ŒUITextField è¨­å®š [`isSecureTextEntry`](https://developer.apple.com/documentation/uikit/uitextinputtraits/1624427-issecuretextentry) æœƒè®Šæˆè“‹ä½çš„å­—å…ƒï¼Œè€Œä¸”å‰ªè²¼ç°¿æœƒè‡ªå‹•é—œé–‰ã€‚å¦‚æœæœ‰ä»€éº¼ç†ç”±éœ€è¦åšè‡ªè£½çš„å¯†ç¢¼æ¬„ï¼Œæœ€å¥½æ³¨æ„é€™å€‹è¡Œç‚º
- è®“è¼¸å…¥æ›´å¥½ç”¨çš„ç´°éƒ¨è¨­å®š
	- è‡ªå‹•å¤§å°å¯«ï¼šautocapitalizationType
	- è‡ªå‹•ä¿®æ­£ï¼šautocorrectionType
	- æ‹¼å­—æª¢æŸ¥ï¼šspellCheckingType
	- Smart quotesï¼šsmartQuotesType
	- Smart dashesï¼šsmartDashesType
	- Smart insert deleteï¼ˆè¦ä¸è¦è‡ªå‹•ç©ºç™½ï¼‰ï¼šsmartInsertDeleteType

## è¡¨å–®è¨­è¨ˆ

- å¦‚æœæœ‰å¤šå€‹è¼¸å…¥æ¡†ï¼Œä¾‹å¦‚è¨»å†Šè¡¨å–®çš„è©±ï¼Œè«‹åœ¨ [`textFieldShouldReturn`](https://developer.apple.com/documentation/uikit/uitextfielddelegate/1619603-textfieldshouldreturn) æŠŠä¸‹ä¸€å€‹ text field è¨­å®šæˆ first responderï¼Œè®“ä½¿ç”¨è€…æŒ‰ Return/Next éµï¼Œéµç›¤åœ¨ä¸æ”¶æ‰çš„æƒ…æ³ä¸‹å¯ä»¥è·³åˆ°ä¸‹ä¸€å€‹è¼¸å…¥æ¡†
- [`enablesReturnKeyAutomatically`](https://developer.apple.com/documentation/uikit/uitextinputtraits/1624432-enablesreturnkeyautomatically) é è¨­æ˜¯ falseã€‚æ”¹æˆ true çš„è©±ï¼Œæ–‡å­—æ¡†æ˜¯ç©ºç™½æ™‚ Return éµæœƒè‡ªå‹•é—œé–‰
- ç™»å…¥è¡¨å–®æ”¯æ´ Password AutoFill
	- éœ€è¦æœ‰å®˜ç¶²ã€è¨­å®š associated domain

## æ–‡å­—ç·¨è¼¯æŒ‡ä»¤

- æŒ‰ä½æ¸¸æ¨™ä½ç½®æ™‚æœƒå‡ºç¾çš„é‚£å€‹æµ®å‹•æ°£æ³¡ï¼Œå…§æœ‰å‰ªä¸‹ã€è¤‡è£½ã€è²¼ä¸Šã€å…¨é¸ç­‰ç­‰ï¼ŒAPI åç¨±æ˜¯ [`UIMenuController`](https://developer.apple.com/documentation/uikit/uimenucontroller)
	- å¾ [`canPerformAction(_:withSender:)`](https://developer.apple.com/documentation/uikit/uiresponder/1621105-canperformaction) å¯ä»¥é—œæ‰æŸäº›åŠŸèƒ½
	- æ¯”å¦‚èªªé¸å–çš„æ–‡å­—å¯ä»¥é€²è¡Œ Google æˆ–ç¶­åŸºæœå°‹ï¼ˆä¸éæˆ‘è‡ªå·±ç¾åœ¨éƒ½ç”¨å…§å»ºçš„ã€ŒæŸ¥è©¢ã€ï¼‰
- iPad éµç›¤ä¸Šæœ‰ shortcut barï¼Œå¯ä»¥é€é [`inputAssistantItem`](https://developer.apple.com/documentation/uikit/uiresponder/1621135-inputassistantitem) ä¾†è¨­å®šã€‚å¯æƒœæ²’æœ‰æ”¯æ´ iPhone
-  [`textInputMode`](https://developer.apple.com/documentation/uikit/uiresponder/1621133-textinputmode) å¯ä»¥åµæ¸¬éµç›¤èªè¨€

## æ”¯æ´ç¡¬é«”éµç›¤

å¯ä»¥è€ƒæ…®å¹« app åŠ ä¸Šç¡¬é«”éµç›¤å¿«é€Ÿéµçš„æ”¯æ´ã€‚é€™å€‹ API å…¶å¯¦å¾ˆç°¡å–®å°±å¯ä»¥åšå¥½ï¼Œä½¿ç”¨è€…ä¹Ÿåªéœ€è¦æŒ‰ä½ Cmd éµå°±å¯ä»¥çœ‹åˆ°ç›®å‰ç•«é¢æœ‰å“ªäº›å¿«é€Ÿéµï¼Œå­¸ç¿’æˆæœ¬ç”šè‡³æ¯” Mac app é‚„ä½ã€‚

åªè¦å¯¦ä½œ UIResponder çš„ [`keyCommands`](https://developer.apple.com/documentation/uikit/uiresponder/1621141-keycommands) å³å¯ã€‚iOS 13.4 ç”šè‡³æ”¯æ´äº†ä»¥å‰ Mac æ‰æœ‰çš„ modifier keys remapping

## çµå°¾é–’èŠ

- [UndoManager](https://developer.apple.com/documentation/foundation/undomanager)
- å¦‚æœæ•´å€‹ app åªæœ‰ä¸­æ–‡ï¼Œä½†æ˜¯ä½ æ²’æœ‰è¨­å®šèªè¨€çš„è©±ï¼Œé¸å–®å•Šã€Return éµé‚£äº›éƒ½æœƒæ˜¯è‹±æ–‡ï¼ˆBaseï¼‰å–”ã€‚æ‰€ä»¥å³ä½¿åªæœ‰ä¸€å€‹èªè¨€ï¼Œé‚„æ˜¯è¦è¨­å®šå¤šåœ‹èªç³»
- æˆ‘æ˜¯æ€éº¼çŸ¥é“é€™äº›çš„å‘¢ï¼Ÿå› ç‚ºä»¥å‰åªæœƒç”¨ IBï¼Œæ‰€ä»¥æœƒçœ‹åˆ°ä¸€å †è¨­å®šé¸é …ã€‚æ‰€ä»¥ä¸è¦èªª Storyboard çˆ›å•¦ï¼Œæ‹¿ä¾†å­¸ç¿’ UI å…ƒä»¶æœ‰å“ªäº›è¨­å®šä¹Ÿå¾ˆä¸éŒ¯ğŸ¤ª
- è€Œå¾Œä¾†é¤Šæˆè®€æ–‡ä»¶çš„ç¿’æ…£ï¼Œå°±å¯ä»¥çŸ¥é“æ›´å¤š
- çŸ¥é“é€™äº›æ±è¥¿å¯èƒ½éƒ½ä¸æœƒç”¨åˆ°ï¼Œä½†æ˜¯ä¹Ÿèªªä¸å®šå“ªå¤©ä½ å°±ç”¨å¾—ä¸Š
- æ­¡è¿è½‰çµ¦è¨­è¨ˆå¸«æˆ– PM åŒäº‹è½ï¼Œç•¢ç«Ÿå·¥ç¨‹å¸«æ›´å®¹æ˜“æ¥è§¸åˆ°åŸç”Ÿ API

## æ›´å¤š weak self

* è½çœ¾ä¿¡ç®± [weakself.dev@gmail.com](mailto:weakself.dev@gmail.com)
* å®˜ç¶² [https://weakself.dev](https://weakself.dev)
* ä¸»æŒäºº [ä¸€ä¸‰](https://twitter.com/ethanhuang13)ã€[æ³¢è‚¥](https://twitter.com/PofatTseng)ã€[å–¬å–¬](https://twitter.com/joe_trash_talk)
* Twitter [@weak_self](https://twitter.com/weak_self)
* [æå•ç®±](https://peing.net/zh-TW/weak_self)
* [è´ŠåŠ© weak self](https://weakself.dev/#è´ŠåŠ©)